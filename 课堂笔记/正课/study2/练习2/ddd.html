<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #sheng,#shi,#qu{
            list-style: none;
            background-color: #FFC7C9;
            width: 720px;
            height: 400px;
            position: absolute;
   
            top: 120px;
            left: 350px;
        }
        #shi,#qu{
            display: none;
        }
        li{
            width: 70px;
            white-space:nowrap;
            /* 3.溢出隐藏 */
            overflow: hidden;
            /* 4.溢出部分用省略号表示 */
            text-overflow: ellipsis;
            float: left;
            padding: 10px;
        }
    table,
      td {
        border: 1px solid #333;
        height: 40px;
        width: 80px;
      }
      table {
        border-collapse: collapse;
        text-align: center;
        width: 760px;
        user-select: none;
        position: absolute;
        top: 80px;
        left: 350px;
      }
    </style>
</head>
<body>
    <table>
        <tr>
            <td id="sf">省份</td>
            <td id="cx">城市</td>
            <td id="yu">区域</td>
            <td style="width: 480px; "></td>
        </tr>
    </table>
    <ul id="sheng"> 
    </ul>

    <ul id="shi">
    </ul>
    
    <ul id="qu">
    </ul>
</body>
<script src="city_code.js"></script>
<script>
    // 获取元素
        var sheng =document.getElementById('sheng')
        var shi =document.getElementById('shi')
        var qu =document.getElementById('qu')
        var tds =document.getElementsByTagName('td')
        var uls = document.getElementsByTagName('ul')

    // 初始状态下显示
    tds[0].style.backgroundColor = '#ccc';
    uls[0].style.display='block';
    // 记录显示con的索引值
    var x = 0;
    for(var i =0; i<3 ;i++){
        // 给每一个nav添加 index属性 记录索引
        tds[i].index = i;
        // 创建点击事件
         tds[i].onclick= function(){
             this.style.backgroundColor = '#ccc';
            //  隐藏之前的内容
            uls[x].style.display='none';
            // 以nav的 索引 找对应的con
            uls[this.index].style.display='block';
            tds[x].style.backgroundColor = '#fff';
            x = this.index;

        }
        
    }









    // 初始状态
    // 插入省   遍历data数组
    // 封装省
  function insertsheng(){
    for(var i = 0; i<data.length; i++){
        var lis  = document.createElement('li');
        lis.innerHTML = data[i].name;
        sheng.appendChild(lis);
    }
  }
  insertsheng();//调用省
    // 插入市
    var  shengId = 0;
    // 封装市
    function insertshi(){
        for(var i = 0 ; i<data[shengId].city.length; i++){
        var lis = document.createElement('li');
        lis.innerHTML = data[shengId].city[i].name;
        shi.appendChild(lis);
    }
    }
    insertshi();//调用市
    // 插入区
    var shiId = 0;
    function insertqu(id){
        for(var i = 0 ; i<data[shengId].city[id].area.length; i++){
        var lis = document.createElement('li');
        lis.innerHTML = data[shengId].city[id].area[i].name;
        qu.appendChild(lis);
    }
    }
    insertqu(shiId);
    var  shengId = 5;
    // 选择不同省
    sheng.onclick = function(e){
        tds[0].style.backgroundColor = '#fff';
        tds[1].style.backgroundColor = '#ccc';
        uls[0].style.display='none';
        uls[1].style.display='block';
        e.target.style.backgroundColor='red';
        // 能不能知道当前用户选择的是哪个省份？
        console.log(e.target);   //用户选择li的索引
        shengId = sheng.selectedIndex;
    }
        shi.onclick = function(e){
        tds[1].style.backgroundColor = '#fff';
        tds[2].style.backgroundColor = '#ccc';
        uls[1].style.display='none';
        uls[2].style.display='block';
        e.target.style.backgroundColor='red';
        // 能不能知道当前用户选择的是哪个省份？
        console.log(e.target);   //用户选择li的索引
        }
        qu.onclick = function(e){
        
        
        e.target.style.backgroundColor='red';
        // 能不能知道当前用户选择的是哪个省份？
        console.log(e.target);   //用户选择li的索引
        }


//         // 清除市
//         shi.innerHTML = ''
//         // 更新市
//         insertshi();
//         // 清除区
//         qu.innerHTML = '';
//         // 更新区
//        insertqu(shiId);
// //  选择不同的城市
//   shi.onclick = function(){
//     // 能不能获取到当前用户选择的城市
//     // 清除区
//   insertqu(shi.selectedIndex);

// }
//  }
 
</script>
</html>