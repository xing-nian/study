<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{
            box-sizing: border-box;
        }
        #wrap{
            width: 200px;
            margin: 50px auto 0;
            position: relative;
        }
        #title{
            margin: 0;
            width: 200px;
            height: 50px;
            line-height: 50px;
            padding: 0 10px;
            border: 1px solid #333;
        }
        #content{
            padding: 10px 0;
            width: 200px;
            height: 300px;
            border: 1px solid #333;
            position: absolute;
            top: 60px;
            left: 0;
            display: none;
        }
        li{
            line-height: 40px;
            margin: 5px 0;
            background-color: #d0d0d0;
        }
    </style>
</head>
<body>
    <div id="wrap">
        <h3 id="title">请选择</h3> 
        <div id="content">
            <ul>
                <li data-id="0" class="active">item1</li>
                <li data-id="1" class="active">item2</li>
                <li data-id="2" class="active">item3</li>
                <li data-id="3" class="active">item4</li>
            </ul>
        </div>
    </div>
</body>
<script>
    var wrap = document.getElementById('wrap');
    var content = document.getElementById('content');
    var lis = content.children[0].children;
    var h3 = document.getElementById('title')


    var x = 0; //记录背景为pink的li
    content.children[0].children[x].style.backgroundColor = 'pink'
    wrap.addEventListener('click',function(e){
        content.style.display = 'block';
        if(e.target.id == 'title'){//点击h3
            content.style.display = 'block';
        }
        if(e.target.nodeName == 'LI'){//点击的是li
            // 复原之前点击的li
            content.children[0].children[x].style.backgroundColor = '#d0d0d0';
            // 改变当前点击的li
            e.target.style.backgroundColor = 'pink'
            x = e.target.dataset.id;

            // 修改h3文本内容
            h3.innerHTML= e.target.innerHTML;
            content.style.display = 'none';
            
        }
       
        console.dir(e.target)
    });

    // for(var i=0;i<lis.length;i++){
    //     lis[i].addEventListener('click',function(e){
    //         content.style.display = 'none';
    //         e.stopPropagation();//阻止冒泡
    //     })
    // }
    // 默认
   

   // 运用事件委托
    // wrap.onclick =function(e){
    //     if(e.target.nodeName == 'LI'){//点击的是li
    //         // 复原之前点击的li
    //         content.children[0].children[x].style.backgroundColor = '#d0d0d0';
    //         // 改变当前点击的li
    //         e.target.style.backgroundColor = 'pink'
    //         x = e.target.dataset.id;

    //         // 修改h3文本内容
    //         h3.innerHTML= e.target.innerHTML;
    //         content.style.display = 'none';
            
    //     }
       
    //     console.dir(e.target)
    //  }



</script>
<ml>
