<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>出现次数最多的字符（2）</title>
    </head>
    <body></body>
    <script>
        /*  [{code:'q',num:1},{code:'w',num:1+1},{code:'s',num:1+1},{code:'e',num:1}]


        [{code:'q',num:2},{code:'w',num:3},{code:'s',num:5},{code:'e',num:1}]
    
        */
        var str = "qwssweqatsssrw";
        var arr = [];
        // 1.整理数据信息
        for (var i = 0; i < str.length; i++) {
            // 验证arr中是否存在某个元素 的code属性 === str[i]
            var flag = true;
            for(var j = 0; j < arr.length; j++){
                var obj_code = arr[j].code;
                if(obj_code === str[i]){
                    // 数组中存在 该元素,num属性递增1
                    arr[j].num++;
                    flag = false;
                    break;
                }
            }
            // 验证完毕，如果flag的值没有发生改变
            // 说明数组中不存在该元素
            // 此时往数组中添加对象，如： {code:'q',num:1}
            if (flag) {
                arr.push({code:str[i],num:1})
            }
        }

        // 2.数组排序
        arr.sort(function(a,b){
            if (a.num < b.num) {
                return 1; //换位置
            }else{
                return -1; //不换位
            }
        });
        console.log(arr);

        

    </script>
</html>
