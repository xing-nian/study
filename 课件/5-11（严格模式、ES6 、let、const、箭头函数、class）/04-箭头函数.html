<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>箭头函数</title>
</head>
<body>
    <button id="btn">按钮</button>
</body>
<script>
    // 箭头函数 可以以简化函数定义的语法结构
    // function f1(){

    // }
    // let f2 = function(){
       
    // }

    // 语法结构：
    // let f = (参数)=>{函数体}
    // f()

    // function sum(a,b){
    //     return a+b;
    // }
    // let sum = (a,b)=>{
    //     return a+b;
    // }
    // console.log(sum(10,40));

    // 1. 在箭头函数中，如果函数体中只有一句代码 并且代码的执行结果就是函数的返回值
    // 函数体大括号{} 可以省略
    // let sum = (a,b)=>a+b;
    // console.log(sum(10,29));

    // 2.在箭头函数中，如果形参只有一个，形参外面的小括号() 也可以省略
    // let fn1 = a=>alert(a);
    // fn1('hello');

    // 3.箭头函数内部this指向谁？
    // 箭头函数内部的this 等于 函数定义位置中的this
    // 案例1：
    let f1 = ()=>{
        console.log(this); // window
    }
    f1();

    // 案例2：
    // let obj = {
    //     uname:'张三',
    //     eat:function(){
    //         // eat函数内部this == obj 
    //         return food=>{
    //             // this指向谁？
    //             // 因为 箭头函数在 eat函数内部定义 ，所以this = eat函数内部的this
    //             console.log(this.uname + '喜欢吃' + food);
    //         }
    //     }
    // }

    // let fn1 = obj.eat();
    // fn1('水果');

    // 案例3
    // let uname = 'window';
    // let obj = {
    //     uname:'张三',
    //     eat:function(){
    //         // eat函数内部this == obj 
    //         return function(food){
    //              //this 指向window
    //             console.log(this);
    //         }
    //     }
    // }
    // var fn1 = obj.eat();
    // fn1('苹果');

    // 案例4
    // 因为 obj 是一个对象，对象是无法形成作用域的，
    // 所以eat相当于定义在了全局作用域中,因此箭头函数内部this指向window.
    let obj = {
        uname:'张三',
        eat:()=>{
            console.log(this); //this指向window
        }
    }
    obj.eat()



    btn.onclick = function(){
        
        setTimeout(()=>{
            // 改变按钮的文字颜色
            this.style.color = 'red'; //this 指向btn
        },2000)
    }

    // btn.onclick = function(){
    //     setTimeout(function(){
    //         // this.style.color = 'red'; //this 指向window
    //     },2000)
    // }






</script>
</html>