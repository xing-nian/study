<!--
 * @Description: 微信 YZS43507802
 * @version: 1.0
 * @Company: 梦想
 * @Author: yinZhaoSheng
 * @Date: 2021-06-01 09:50:40
 * @LastEditors: yinZhaoSheng
 * @LastEditTime: 2021-06-01 10:26:10
 * @FilePath: \H5+CSS3\手机端\03iscroll\课堂02下拉刷新.html
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>下拉刷新</title>
    <style>
        header{
            background-color: aqua;
            color:white;
            height: 50px;
            line-height: 50px;
            text-align: center;
        }
     #wrapper{
         height: 500px;
         overflow: hidden;
     }
     #wrapper div p{
         height:50px;
         line-height: 50px;
         text-align:center;
         border-bottom: 1px dashed yellowgreen;
     }
     footer{
        height: 50px;
        line-height: 50px;
        background-color: #c3c3c3;
     }
     #shows{
         color:white;
         background-color:rgba(0,228,182,.5);
         display:none;
     }
    </style>
</head>
<body>
      <header>
          <h1> 新闻</h1>
      </header>
      <div id="wrapper">
          <div>
              <p id="shows">下拉刷新</p>
              <p>内容——1</p>
              <p>内容——2</p>
              <p>内容——3</p>
              <p>内容——4</p>
              <p>内容——5</p>
              <p>内容——6</p>
              <p>内容——7</p>
              <p>内容——8</p>
              <p>内容——9</p>
              <p>内容——10</p>
              <p>内容——11</p>
              <p>内容——12</p>
              <p>内容——13</p>
              <p>内容——14</p>
              <p>内容——15</p>
              <p>内容——16</p>
              <p>内容——17</p>
              <p>内容——18</p>
              <p>内容——19</p>
              <p>内容——20</p>
              <p>内容——21</p>
              <p>内容——22</p>
              <p>内容——23</p>
              <p>内容——24</p>
              <p>内容——25</p>
              <p>内容——26</p>
              <p>内容——27</p>
              <p>内容——28</p>
              <p>内容——29</p>
              <p>内容——30</p>
              <p>内容——31</p>
              <p>内容——32</p>
              <p>内容——33</p>
              <p>内容——34</p>
              <p>内容——35</p>
              <p>内容——36</p>
              <p>内容——37</p>
              <p>内容——38</p>
              <p>内容——39</p>
              <p>内容——40</p>
              <p>内容——41</p>
              <p>内容——42</p>
              <p>内容——43</p>
              <p>内容——44</p>
              <p>内容——45</p>
              <p>内容——46</p>
              <p>内容——47</p>
              <p>内容——48</p>
              <p>内容——49</p>
              <p>内容——50</p>
              <p>内容——51</p>
              <p>内容——52</p>
              <p>内容——53</p>
              <p>内容——54</p>
              <p>内容——55</p>
              <p>内容——56</p>
              <p>内容——57</p>
              <p>内容——58</p>
              <p>内容——59</p>
              <p>内容——60</p>
              <p>内容——61</p>
              <p>内容——62</p>
              <p>内容——63</p>
              <p>内容——64</p>
              <p>内容——65</p>
              <p>内容——66</p>
              <p>内容——67</p>
              <p>内容——68</p>
              <p>内容——69</p>
              <p>内容——70</p>
              <p>内容——71</p>
              <p>内容——72</p>
              <p>内容——73</p>
              <p>内容——74</p>
              <p>内容——75</p>
              <p>内容——76</p>
              <p>内容——77</p>
              <p>内容——78</p>
              <p>内容——79</p>
              <p>内容——80</p>
              <p>内容——81</p>
              <p>内容——82</p>
              <p>内容——83</p>
              <p>内容——84</p>
              <p>内容——85</p>
              <p>内容——86</p>
              <p>内容——87</p>
              <p>内容——88</p>
              <p>内容——89</p>
              <p>内容——90</p>
              <p>内容——91</p>
              <p>内容——92</p>
              <p>内容——93</p>
              <p>内容——94</p>
              <p>内容——95</p>
              <p>内容——96</p>
              <p>内容——97</p>
              <p>内容——98</p>
              <p>内容——99</p>
              <p>内容——100</p>
          </div>
      </div>
      <footer>
          作者：前端-74期
      </footer>
      <script src="./js/iscroll.js"></script>
      <!-- 专门处理 滚动监听的 -->
      <!-- <script src="./js/iscroll-probe.js"></script> -->
      <script>
          var myScroll = new IScroll("#wrapper",{
            //   滚动监听的频率 
            //1 监听频率最低 比如5s检查1次有没有滚动
            //2             3S
            //3             1S
            probeType:1,
            scrollY:true,
            scrollbars:true,
            freeScroll:true,
          })
          myScroll.on("scrollStart",function(){
             shows.style.display = "block";
            //  应该发送ajax请求
          })
          myScroll.on("scroll",function(){
            //   y是下拉的距离
              if(this.y > 100){
                shows.innerHTML= "刷新中";
            //  应该发送ajax请求
              }
          })
          myScroll.on("scrollEnd",function(){
             shows.style.display = "none";
             shows.innerHTML= "下拉刷新";
              
            })
      </script>
</body>
</html>